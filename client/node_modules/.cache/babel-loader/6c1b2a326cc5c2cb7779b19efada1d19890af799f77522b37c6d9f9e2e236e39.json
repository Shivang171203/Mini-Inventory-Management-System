{"ast":null,"code":"import React,{useState,useEffect}from'react';import{transactionsAPI,productsAPI,suppliersAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Transactions(){const[transactions,setTransactions]=useState([]);const[products,setProducts]=useState([]);const[suppliers,setSuppliers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showForm,setShowForm]=useState(false);const[formData,setFormData]=useState({transactionType:'sale',productId:'',transactionQuantity:'',transactionPrice:'',customerName:'Walk-in Customer',supplierId:'',notes:''});useEffect(()=>{fetchTransactions();fetchProducts();fetchSuppliers();},[]);const fetchTransactions=async()=>{try{const response=await transactionsAPI.getAll();setTransactions(response.data);setError(null);}catch(err){setError('Failed to load transactions');console.error('Transactions error:',err);}finally{setLoading(false);}};const fetchProducts=async()=>{try{const response=await productsAPI.getAll();setProducts(response.data);}catch(err){console.error('Products error:',err);}};const fetchSuppliers=async()=>{try{const response=await suppliersAPI.getAll();setSuppliers(response.data);}catch(err){console.error('Suppliers error:',err);}};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const resetForm=()=>{setFormData({transactionType:'sale',productId:'',transactionQuantity:'',transactionPrice:'',customerName:'Walk-in Customer',supplierId:'',notes:''});setShowForm(false);};const handleSubmit=async e=>{e.preventDefault();try{const transactionData={...formData,transactionQuantity:parseInt(formData.transactionQuantity),transactionPrice:parseFloat(formData.transactionPrice)};await transactionsAPI.create(transactionData);fetchTransactions();fetchProducts();resetForm();}catch(err){setError('Failed to create transaction');console.error('Create transaction error:',err);}};const getSelectedProduct=()=>{return products.find(p=>p._id===formData.productId);};const calculateTotal=()=>{const quantity=parseInt(formData.transactionQuantity)||0;const price=parseFloat(formData.transactionPrice)||0;return(quantity*price).toFixed(2);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:\"Loading transactions...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Transactions Management\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>setShowForm(!showForm),children:showForm?'Cancel':'New Transaction'})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-error\",children:error}),showForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create New Transaction\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Transaction Type:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"transactionType\",value:formData.transactionType,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"sale\",children:\"Sale\"}),/*#__PURE__*/_jsx(\"option\",{value:\"purchase\",children:\"Purchase\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"productId\",value:formData.productId,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Product\"}),products.map(product=>/*#__PURE__*/_jsxs(\"option\",{value:product._id,children:[product.productName,\" (Stock: \",product.productQuantity,\")\"]},product._id))]})]})]}),formData.productId&&getSelectedProduct()&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginBottom:'20px',backgroundColor:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Product Information\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Current Stock:\"}),\" \",getSelectedProduct().productQuantity]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" $\",getSelectedProduct().productPrice]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Category:\"}),\" \",getSelectedProduct().productCategory]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"transactionQuantity\",value:formData.transactionQuantity,onChange:handleInputChange,min:\"1\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price per Unit:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"transactionPrice\",value:formData.transactionPrice,onChange:handleInputChange,step:\"0.01\",min:\"0\",required:true})]})]}),calculateTotal()>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginBottom:'20px',backgroundColor:'#e8f5e8'},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Transaction Summary\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Amount:\"}),\" $\",calculateTotal()]})]}),formData.transactionType==='sale'?/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Customer Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"customerName\",value:formData.customerName,onChange:handleInputChange})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Supplier:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"supplierId\",value:formData.supplierId,onChange:handleInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Supplier\"}),suppliers.map(supplier=>/*#__PURE__*/_jsx(\"option\",{value:supplier._id,children:supplier.supplierName},supplier._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Notes:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"notes\",value:formData.notes,onChange:handleInputChange,rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:\"Create Transaction\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:resetForm,children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"All Transactions\"}),transactions.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Customer/Supplier\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Notes\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:transactions.map(transaction=>{var _transaction$productI,_transaction$productI2,_transaction$supplier;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(transaction.transactionDate).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{style:{color:transaction.transactionType==='sale'?'green':'blue',fontWeight:'bold'},children:transaction.transactionType.toUpperCase()})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:(_transaction$productI=transaction.productId)===null||_transaction$productI===void 0?void 0:_transaction$productI.productName}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:(_transaction$productI2=transaction.productId)===null||_transaction$productI2===void 0?void 0:_transaction$productI2.productCategory})]}),/*#__PURE__*/_jsx(\"td\",{children:transaction.transactionQuantity}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",transaction.transactionPrice]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",transaction.totalAmount]})}),/*#__PURE__*/_jsx(\"td\",{children:transaction.transactionType==='sale'?transaction.customerName:((_transaction$supplier=transaction.supplierId)===null||_transaction$supplier===void 0?void 0:_transaction$supplier.supplierName)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"small\",{children:transaction.notes||'N/A'})})]},transaction._id);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No transactions found\"})]})]});}export default Transactions;","map":{"version":3,"names":["React","useState","useEffect","transactionsAPI","productsAPI","suppliersAPI","jsx","_jsx","jsxs","_jsxs","Transactions","transactions","setTransactions","products","setProducts","suppliers","setSuppliers","loading","setLoading","error","setError","showForm","setShowForm","formData","setFormData","transactionType","productId","transactionQuantity","transactionPrice","customerName","supplierId","notes","fetchTransactions","fetchProducts","fetchSuppliers","response","getAll","data","err","console","handleInputChange","e","name","value","target","prev","resetForm","handleSubmit","preventDefault","transactionData","parseInt","parseFloat","create","getSelectedProduct","find","p","_id","calculateTotal","quantity","price","toFixed","className","children","style","display","justifyContent","alignItems","marginBottom","onClick","onSubmit","onChange","required","map","product","productName","productQuantity","backgroundColor","productPrice","productCategory","type","min","step","supplier","supplierName","rows","gap","length","transaction","_transaction$productI","_transaction$productI2","_transaction$supplier","Date","transactionDate","toLocaleDateString","color","fontWeight","toUpperCase","totalAmount"],"sources":["C:/Users/HP/Desktop/management system/client/src/components/Transactions.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { transactionsAPI, productsAPI, suppliersAPI } from '../services/api';\r\n\r\n\r\nfunction Transactions() {\r\n  const [transactions, setTransactions] = useState([]);\r\n       const [products, setProducts] = useState([]);\r\n\r\n\r\n\r\n  const [suppliers, setSuppliers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n  const [error, setError] = useState(null);\r\n        const [showForm, setShowForm] = useState(false);\r\n\r\n  const [formData, setFormData] = useState({\r\n    transactionType: 'sale',\r\n    productId: '',\r\n    transactionQuantity: '',\r\n                 transactionPrice: '',\r\n\r\n    customerName: 'Walk-in Customer',\r\n\r\n    supplierId: '',\r\n    notes: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n               fetchTransactions();\r\n\r\n    fetchProducts();\r\n\r\n    fetchSuppliers();\r\n  }, []);\r\n\r\n  const fetchTransactions = async () => {\r\n    try {\r\n\r\n      const response = await transactionsAPI.getAll();\r\n\r\n      setTransactions(response.data);\r\n\r\n      setError(null);\r\n\r\n    } catch (err) {\r\n      setError('Failed to load transactions');\r\n\r\n                     console.error('Transactions error:', err);\r\n    } finally {\r\n\r\n\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      const response = await productsAPI.getAll();\r\n\r\n\r\n\r\n     \r\n                     setProducts(response.data);\r\n    } catch (err) {\r\n\r\n      console.error('Products error:', err);\r\n\r\n\r\n    }\r\n  };\r\n\r\n  const fetchSuppliers = async () => {\r\n    try {\r\n                    const response = await suppliersAPI.getAll();\r\n\r\n      setSuppliers(response.data);\r\n\r\n    } catch (err) {\r\n\r\n      console.error('Suppliers error:', err);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n\r\n              const { name, value } = e.target;\r\n\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n    \r\n      transactionType: 'sale',\r\n      productId: '',\r\n    \r\n      transactionQuantity: '',\r\n      transactionPrice: '',\r\n    \r\n      customerName: 'Walk-in Customer',\r\n      supplierId: '',\r\n     \r\n      notes: ''\r\n    });\r\n    setShowForm(false);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const transactionData = {\r\n        ...formData,\r\n\r\n\r\n        transactionQuantity: parseInt(formData.transactionQuantity),\r\n\r\n        transactionPrice: parseFloat(formData.transactionPrice)\r\n\r\n      };\r\n\r\n      await transactionsAPI.create(transactionData);\r\n      fetchTransactions();\r\n\r\n      fetchProducts();\r\n      resetForm();\r\n\r\n    } catch (err) {\r\n      setError('Failed to create transaction');\r\n\r\n      console.error('Create transaction error:', err);\r\n\r\n\r\n    }\r\n  };\r\n\r\n  const getSelectedProduct = () => {\r\n\r\n    return products.find(p => p._id === formData.productId);\r\n\r\n\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n\r\n        const quantity = parseInt(formData.transactionQuantity) || 0;\r\n\r\n\r\n\r\n                const price = parseFloat(formData.transactionPrice) || 0;\r\n\r\n    return (quantity * price).toFixed(2);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"card\">Loading transactions...</div>;\r\n  }\r\n\r\n  return (\r\n                              <div>\r\n\r\n\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\r\n\r\n        <h2>Transactions Management</h2>\r\n\r\n\r\n        <button className=\"btn\" onClick={() => setShowForm(!showForm)}>\r\n          {showForm ? 'Cancel' : 'New Transaction'}\r\n\r\n                                  </button>\r\n\r\n\r\n      </div>\r\n\r\n      {error && <div className=\"alert alert-error\">{error}</div>}\r\n\r\n      {showForm && (\r\n        <div className=\"card\">\r\n          <h3>Create New Transaction</h3>\r\n\r\n          <form onSubmit={handleSubmit}>\r\n\r\n            <div className=\"grid\">\r\n              <div className=\"form-group\">\r\n\r\n                <label>Transaction Type:</label>\r\n                <select\r\n                  name=\"transactionType\"\r\n\r\n                  value={formData.transactionType}\r\n\r\n\r\n                  onChange={handleInputChange}\r\n                  required\r\n                >\r\n                  <option value=\"sale\">Sale</option>\r\n\r\n                  <option value=\"purchase\">Purchase</option>\r\n\r\n                                 </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Product:</label>\r\n                <select\r\n                  name=\"productId\"\r\n                      \r\n                  value={formData.productId}\r\n                \r\n                  onChange={handleInputChange}\r\n                 \r\n                  required\r\n                >\r\n\r\n\r\n\r\n\r\n\r\n\r\n                  <option value=\"\">Select Product</option>\r\n                  {products.map(product => (\r\n                    <option key={product._id} value={product._id}>\r\n\r\n\r\n                      {product.productName} (Stock: {product.productQuantity})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {formData.productId && getSelectedProduct() && (\r\n              <div className=\"card\" style={{ marginBottom: '20px', backgroundColor: '#f8f9fa' }}>\r\n                <h4>Product Information</h4>\r\n\r\n                                 <p><strong>Current Stock:</strong> {getSelectedProduct().productQuantity}</p>\r\n                <p><strong>Price:</strong> ${getSelectedProduct().productPrice}</p>\r\n\r\n\r\n                <p><strong>Category:</strong> {getSelectedProduct().productCategory}</p>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"grid\">\r\n\r\n              <div className=\"form-group\">\r\n\r\n                <label>Quantity:</label>\r\n\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"transactionQuantity\"\r\n\r\n                          value={formData.transactionQuantity}\r\n\r\n                  onChange={handleInputChange}\r\n                  min=\"1\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label>Price per Unit:</label>\r\n                <input\r\n\r\n                  type=\"number\"\r\n                  name=\"transactionPrice\"\r\n\r\n                  value={formData.transactionPrice}\r\n                 \r\n                  onChange={handleInputChange}\r\n                  step=\"0.01\"\r\n                  min=\"0\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {calculateTotal() > 0 && (\r\n              <div className=\"card\" style={{ marginBottom: '20px', backgroundColor: '#e8f5e8' }}>\r\n              \r\n                <h4>Transaction Summary</h4>\r\n             \r\n                <p><strong>Total Amount:</strong> ${calculateTotal()}</p>\r\n\r\n              </div>\r\n            )}\r\n\r\n            {formData.transactionType === 'sale' ? (\r\n              <div className=\"form-group\">\r\n             \r\n                <label>Customer Name:</label>\r\n\r\n                <input\r\n\r\n                  type=\"text\"\r\n                  name=\"customerName\"\r\n                  value={formData.customerName}\r\n                  onChange={handleInputChange}\r\n                />\r\n              </div>\r\n            ) : (\r\n              <div className=\"form-group\">\r\n             \r\n                <label>Supplier:</label>\r\n                <select\r\n                  name=\"supplierId\"\r\n                  value={formData.supplierId}\r\n                  onChange={handleInputChange}\r\n                >\r\n                  <option value=\"\">Select Supplier</option>\r\n                 \r\n                  {suppliers.map(supplier => (\r\n                    <option key={supplier._id} value={supplier._id}>\r\n                      {supplier.supplierName}\r\n\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"form-group\">\r\n              <label>Notes:</label>\r\n              <textarea\r\n\r\n                name=\"notes\"\r\n                value={formData.notes}\r\n                onChange={handleInputChange}\r\n\r\n                rows=\"3\"\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '10px' }}>\r\n\r\n\r\n              <button type=\"submit\" className=\"btn\">\r\n                Create Transaction\r\n\r\n\r\n\r\n\r\n              </button>\r\n\r\n\r\n\r\n              <button type=\"button\" className=\"btn\" onClick={resetForm}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"card\">\r\n        <h3>All Transactions</h3>\r\n        {transactions.length > 0 ? (\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Date</th>\r\n                <th>Type</th>\r\n                <th>Product</th>\r\n                <th>Quantity</th>\r\n                <th>Price</th>\r\n                <th>Total</th>\r\n                <th>Customer/Supplier</th>\r\n                <th>Notes</th>\r\n              </tr>\r\n            </thead>\r\n                                  <tbody>\r\n\r\n\r\n              {transactions.map((transaction) => (\r\n                <tr key={transaction._id}>\r\n                  <td>{new Date(transaction.transactionDate).toLocaleDateString()}</td>\r\n                  <td>\r\n\r\n\r\n                    <span style={{ \r\n                      color: transaction.transactionType === 'sale' ? 'green' : 'blue',\r\n                      fontWeight: 'bold'\r\n                    }}>\r\n\r\n\r\n                      {transaction.transactionType.toUpperCase()}\r\n                    </span>\r\n\r\n\r\n                  </td>\r\n                  <td>\r\n\r\n\r\n                    <strong>{transaction.productId?.productName}</strong>\r\n                    <br />\r\n\r\n\r\n                    <small>{transaction.productId?.productCategory}</small>\r\n                  </td>\r\n\r\n\r\n\r\n                  <td>{transaction.transactionQuantity}</td>\r\n                  <td>${transaction.transactionPrice}</td>\r\n                  <td><strong>${transaction.totalAmount}</strong></td>\r\n                  <td>\r\n\r\n\r\n                    {transaction.transactionType === 'sale' \r\n                      ? transaction.customerName \r\n                      : transaction.supplierId?.supplierName || 'N/A'\r\n                    }\r\n                  </td>\r\n\r\n\r\n                  <td>\r\n                    <small>{transaction.notes || 'N/A'}</small>\r\n                  </td>\r\n                </tr>\r\n\r\n                \r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p>No transactions found</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Transactions; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,eAAe,CAAEC,WAAW,CAAEC,YAAY,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG7E,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC/C,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAIjD,KAAM,CAACc,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAG5C,KAAM,CAACkB,KAAK,CAAEC,QAAQ,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAClC,KAAM,CAACoB,QAAQ,CAAEC,WAAW,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAErD,KAAM,CAACsB,QAAQ,CAAEC,WAAW,CAAC,CAAGvB,QAAQ,CAAC,CACvCwB,eAAe,CAAE,MAAM,CACvBC,SAAS,CAAE,EAAE,CACbC,mBAAmB,CAAE,EAAE,CACVC,gBAAgB,CAAE,EAAE,CAEjCC,YAAY,CAAE,kBAAkB,CAEhCC,UAAU,CAAE,EAAE,CACdC,KAAK,CAAE,EACT,CAAC,CAAC,CAEF7B,SAAS,CAAC,IAAM,CACH8B,iBAAiB,CAAC,CAAC,CAE9BC,aAAa,CAAC,CAAC,CAEfC,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAF,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CAEF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAhC,eAAe,CAACiC,MAAM,CAAC,CAAC,CAE/CxB,eAAe,CAACuB,QAAQ,CAACE,IAAI,CAAC,CAE9BjB,QAAQ,CAAC,IAAI,CAAC,CAEhB,CAAE,MAAOkB,GAAG,CAAE,CACZlB,QAAQ,CAAC,6BAA6B,CAAC,CAExBmB,OAAO,CAACpB,KAAK,CAAC,qBAAqB,CAAEmB,GAAG,CAAC,CAC1D,CAAC,OAAS,CAGRpB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAe,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAA/B,WAAW,CAACgC,MAAM,CAAC,CAAC,CAK5BtB,WAAW,CAACqB,QAAQ,CAACE,IAAI,CAAC,CAC3C,CAAE,MAAOC,GAAG,CAAE,CAEZC,OAAO,CAACpB,KAAK,CAAC,iBAAiB,CAAEmB,GAAG,CAAC,CAGvC,CACF,CAAC,CAED,KAAM,CAAAJ,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACY,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA9B,YAAY,CAAC+B,MAAM,CAAC,CAAC,CAE1DpB,YAAY,CAACmB,QAAQ,CAACE,IAAI,CAAC,CAE7B,CAAE,MAAOC,GAAG,CAAE,CAEZC,OAAO,CAACpB,KAAK,CAAC,kBAAkB,CAAEmB,GAAG,CAAC,CACxC,CACF,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAIC,CAAC,EAAK,CAErB,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAACG,MAAM,CAE1CpB,WAAW,CAACqB,IAAI,GAAK,CACnB,GAAGA,IAAI,CACP,CAACH,IAAI,EAAGC,KACV,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAG,SAAS,CAAGA,CAAA,GAAM,CACtBtB,WAAW,CAAC,CAEVC,eAAe,CAAE,MAAM,CACvBC,SAAS,CAAE,EAAE,CAEbC,mBAAmB,CAAE,EAAE,CACvBC,gBAAgB,CAAE,EAAE,CAEpBC,YAAY,CAAE,kBAAkB,CAChCC,UAAU,CAAE,EAAE,CAEdC,KAAK,CAAE,EACT,CAAC,CAAC,CACFT,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED,KAAM,CAAAyB,YAAY,CAAG,KAAO,CAAAN,CAAC,EAAK,CAChCA,CAAC,CAACO,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,eAAe,CAAG,CACtB,GAAG1B,QAAQ,CAGXI,mBAAmB,CAAEuB,QAAQ,CAAC3B,QAAQ,CAACI,mBAAmB,CAAC,CAE3DC,gBAAgB,CAAEuB,UAAU,CAAC5B,QAAQ,CAACK,gBAAgB,CAExD,CAAC,CAED,KAAM,CAAAzB,eAAe,CAACiD,MAAM,CAACH,eAAe,CAAC,CAC7CjB,iBAAiB,CAAC,CAAC,CAEnBC,aAAa,CAAC,CAAC,CACfa,SAAS,CAAC,CAAC,CAEb,CAAE,MAAOR,GAAG,CAAE,CACZlB,QAAQ,CAAC,8BAA8B,CAAC,CAExCmB,OAAO,CAACpB,KAAK,CAAC,2BAA2B,CAAEmB,GAAG,CAAC,CAGjD,CACF,CAAC,CAED,KAAM,CAAAe,kBAAkB,CAAGA,CAAA,GAAM,CAE/B,MAAO,CAAAxC,QAAQ,CAACyC,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,GAAG,GAAKjC,QAAQ,CAACG,SAAS,CAAC,CAGzD,CAAC,CAED,KAAM,CAAA+B,cAAc,CAAGA,CAAA,GAAM,CAEvB,KAAM,CAAAC,QAAQ,CAAGR,QAAQ,CAAC3B,QAAQ,CAACI,mBAAmB,CAAC,EAAI,CAAC,CAIpD,KAAM,CAAAgC,KAAK,CAAGR,UAAU,CAAC5B,QAAQ,CAACK,gBAAgB,CAAC,EAAI,CAAC,CAEpE,MAAO,CAAC8B,QAAQ,CAAGC,KAAK,EAAEC,OAAO,CAAC,CAAC,CAAC,CACtC,CAAC,CAED,GAAI3C,OAAO,CAAE,CACX,mBAAOV,IAAA,QAAKsD,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,yBAAuB,CAAK,CAAC,CAC5D,CAEA,mBAC4BrD,KAAA,QAAAqD,QAAA,eAGxBrD,KAAA,QAAKsD,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAL,QAAA,eAE3GvD,IAAA,OAAAuD,QAAA,CAAI,yBAAuB,CAAI,CAAC,cAGhCvD,IAAA,WAAQsD,SAAS,CAAC,KAAK,CAACO,OAAO,CAAEA,CAAA,GAAM9C,WAAW,CAAC,CAACD,QAAQ,CAAE,CAAAyC,QAAA,CAC3DzC,QAAQ,CAAG,QAAQ,CAAG,iBAAiB,CAER,CAAC,EAGhC,CAAC,CAELF,KAAK,eAAIZ,IAAA,QAAKsD,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAE3C,KAAK,CAAM,CAAC,CAEzDE,QAAQ,eACPZ,KAAA,QAAKoD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBvD,IAAA,OAAAuD,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAE/BrD,KAAA,SAAM4D,QAAQ,CAAEtB,YAAa,CAAAe,QAAA,eAE3BrD,KAAA,QAAKoD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBrD,KAAA,QAAKoD,SAAS,CAAC,YAAY,CAAAC,QAAA,eAEzBvD,IAAA,UAAAuD,QAAA,CAAO,mBAAiB,CAAO,CAAC,cAChCrD,KAAA,WACEiC,IAAI,CAAC,iBAAiB,CAEtBC,KAAK,CAAEpB,QAAQ,CAACE,eAAgB,CAGhC6C,QAAQ,CAAE9B,iBAAkB,CAC5B+B,QAAQ,MAAAT,QAAA,eAERvD,IAAA,WAAQoC,KAAK,CAAC,MAAM,CAAAmB,QAAA,CAAC,MAAI,CAAQ,CAAC,cAElCvD,IAAA,WAAQoC,KAAK,CAAC,UAAU,CAAAmB,QAAA,CAAC,UAAQ,CAAQ,CAAC,EAEnB,CAAC,EACvB,CAAC,cAENrD,KAAA,QAAKoD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvD,IAAA,UAAAuD,QAAA,CAAO,UAAQ,CAAO,CAAC,cACvBrD,KAAA,WACEiC,IAAI,CAAC,WAAW,CAEhBC,KAAK,CAAEpB,QAAQ,CAACG,SAAU,CAE1B4C,QAAQ,CAAE9B,iBAAkB,CAE5B+B,QAAQ,MAAAT,QAAA,eAQRvD,IAAA,WAAQoC,KAAK,CAAC,EAAE,CAAAmB,QAAA,CAAC,gBAAc,CAAQ,CAAC,CACvCjD,QAAQ,CAAC2D,GAAG,CAACC,OAAO,eACnBhE,KAAA,WAA0BkC,KAAK,CAAE8B,OAAO,CAACjB,GAAI,CAAAM,QAAA,EAG1CW,OAAO,CAACC,WAAW,CAAC,WAAS,CAACD,OAAO,CAACE,eAAe,CAAC,GACzD,GAJaF,OAAO,CAACjB,GAIb,CACT,CAAC,EACI,CAAC,EACN,CAAC,EACH,CAAC,CAELjC,QAAQ,CAACG,SAAS,EAAI2B,kBAAkB,CAAC,CAAC,eACzC5C,KAAA,QAAKoD,SAAS,CAAC,MAAM,CAACE,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAM,CAAES,eAAe,CAAE,SAAU,CAAE,CAAAd,QAAA,eAChFvD,IAAA,OAAAuD,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAEXrD,KAAA,MAAAqD,QAAA,eAAGvD,IAAA,WAAAuD,QAAA,CAAQ,gBAAc,CAAQ,CAAC,IAAC,CAACT,kBAAkB,CAAC,CAAC,CAACsB,eAAe,EAAI,CAAC,cAC9FlE,KAAA,MAAAqD,QAAA,eAAGvD,IAAA,WAAAuD,QAAA,CAAQ,QAAM,CAAQ,CAAC,KAAE,CAACT,kBAAkB,CAAC,CAAC,CAACwB,YAAY,EAAI,CAAC,cAGnEpE,KAAA,MAAAqD,QAAA,eAAGvD,IAAA,WAAAuD,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAACT,kBAAkB,CAAC,CAAC,CAACyB,eAAe,EAAI,CAAC,EACrE,CACN,cAEDrE,KAAA,QAAKoD,SAAS,CAAC,MAAM,CAAAC,QAAA,eAEnBrD,KAAA,QAAKoD,SAAS,CAAC,YAAY,CAAAC,QAAA,eAEzBvD,IAAA,UAAAuD,QAAA,CAAO,WAAS,CAAO,CAAC,cAExBvD,IAAA,UACEwE,IAAI,CAAC,QAAQ,CACbrC,IAAI,CAAC,qBAAqB,CAElBC,KAAK,CAAEpB,QAAQ,CAACI,mBAAoB,CAE5C2C,QAAQ,CAAE9B,iBAAkB,CAC5BwC,GAAG,CAAC,GAAG,CACPT,QAAQ,MACT,CAAC,EACC,CAAC,cAEN9D,KAAA,QAAKoD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvD,IAAA,UAAAuD,QAAA,CAAO,iBAAe,CAAO,CAAC,cAC9BvD,IAAA,UAEEwE,IAAI,CAAC,QAAQ,CACbrC,IAAI,CAAC,kBAAkB,CAEvBC,KAAK,CAAEpB,QAAQ,CAACK,gBAAiB,CAEjC0C,QAAQ,CAAE9B,iBAAkB,CAC5ByC,IAAI,CAAC,MAAM,CACXD,GAAG,CAAC,GAAG,CACPT,QAAQ,MACT,CAAC,EACC,CAAC,EACH,CAAC,CAELd,cAAc,CAAC,CAAC,CAAG,CAAC,eACnBhD,KAAA,QAAKoD,SAAS,CAAC,MAAM,CAACE,KAAK,CAAE,CAAEI,YAAY,CAAE,MAAM,CAAES,eAAe,CAAE,SAAU,CAAE,CAAAd,QAAA,eAEhFvD,IAAA,OAAAuD,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAE5BrD,KAAA,MAAAqD,QAAA,eAAGvD,IAAA,WAAAuD,QAAA,CAAQ,eAAa,CAAQ,CAAC,KAAE,CAACL,cAAc,CAAC,CAAC,EAAI,CAAC,EAEtD,CACN,CAEAlC,QAAQ,CAACE,eAAe,GAAK,MAAM,cAClChB,KAAA,QAAKoD,SAAS,CAAC,YAAY,CAAAC,QAAA,eAEzBvD,IAAA,UAAAuD,QAAA,CAAO,gBAAc,CAAO,CAAC,cAE7BvD,IAAA,UAEEwE,IAAI,CAAC,MAAM,CACXrC,IAAI,CAAC,cAAc,CACnBC,KAAK,CAAEpB,QAAQ,CAACM,YAAa,CAC7ByC,QAAQ,CAAE9B,iBAAkB,CAC7B,CAAC,EACC,CAAC,cAEN/B,KAAA,QAAKoD,SAAS,CAAC,YAAY,CAAAC,QAAA,eAEzBvD,IAAA,UAAAuD,QAAA,CAAO,WAAS,CAAO,CAAC,cACxBrD,KAAA,WACEiC,IAAI,CAAC,YAAY,CACjBC,KAAK,CAAEpB,QAAQ,CAACO,UAAW,CAC3BwC,QAAQ,CAAE9B,iBAAkB,CAAAsB,QAAA,eAE5BvD,IAAA,WAAQoC,KAAK,CAAC,EAAE,CAAAmB,QAAA,CAAC,iBAAe,CAAQ,CAAC,CAExC/C,SAAS,CAACyD,GAAG,CAACU,QAAQ,eACrB3E,IAAA,WAA2BoC,KAAK,CAAEuC,QAAQ,CAAC1B,GAAI,CAAAM,QAAA,CAC5CoB,QAAQ,CAACC,YAAY,EADXD,QAAQ,CAAC1B,GAGd,CACT,CAAC,EACI,CAAC,EACN,CACN,cAED/C,KAAA,QAAKoD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBvD,IAAA,UAAAuD,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBvD,IAAA,aAEEmC,IAAI,CAAC,OAAO,CACZC,KAAK,CAAEpB,QAAQ,CAACQ,KAAM,CACtBuC,QAAQ,CAAE9B,iBAAkB,CAE5B4C,IAAI,CAAC,GAAG,CACT,CAAC,EACC,CAAC,cAEN3E,KAAA,QAAKsD,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEqB,GAAG,CAAE,MAAO,CAAE,CAAAvB,QAAA,eAG3CvD,IAAA,WAAQwE,IAAI,CAAC,QAAQ,CAAClB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,oBAMtC,CAAQ,CAAC,cAITvD,IAAA,WAAQwE,IAAI,CAAC,QAAQ,CAAClB,SAAS,CAAC,KAAK,CAACO,OAAO,CAAEtB,SAAU,CAAAgB,QAAA,CAAC,QAE1D,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,EACJ,CACN,cAEDrD,KAAA,QAAKoD,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBvD,IAAA,OAAAuD,QAAA,CAAI,kBAAgB,CAAI,CAAC,CACxBnD,YAAY,CAAC2E,MAAM,CAAG,CAAC,cACtB7E,KAAA,UAAOoD,SAAS,CAAC,OAAO,CAAAC,QAAA,eACtBvD,IAAA,UAAAuD,QAAA,cACErD,KAAA,OAAAqD,QAAA,eACEvD,IAAA,OAAAuD,QAAA,CAAI,MAAI,CAAI,CAAC,cACbvD,IAAA,OAAAuD,QAAA,CAAI,MAAI,CAAI,CAAC,cACbvD,IAAA,OAAAuD,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBvD,IAAA,OAAAuD,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBvD,IAAA,OAAAuD,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvD,IAAA,OAAAuD,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvD,IAAA,OAAAuD,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BvD,IAAA,OAAAuD,QAAA,CAAI,OAAK,CAAI,CAAC,EACZ,CAAC,CACA,CAAC,cACcvD,IAAA,UAAAuD,QAAA,CAGnBnD,YAAY,CAAC6D,GAAG,CAAEe,WAAW,OAAAC,qBAAA,CAAAC,sBAAA,CAAAC,qBAAA,oBAC5BjF,KAAA,OAAAqD,QAAA,eACEvD,IAAA,OAAAuD,QAAA,CAAK,GAAI,CAAA6B,IAAI,CAACJ,WAAW,CAACK,eAAe,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAK,CAAC,cACrEtF,IAAA,OAAAuD,QAAA,cAGEvD,IAAA,SAAMwD,KAAK,CAAE,CACX+B,KAAK,CAAEP,WAAW,CAAC9D,eAAe,GAAK,MAAM,CAAG,OAAO,CAAG,MAAM,CAChEsE,UAAU,CAAE,MACd,CAAE,CAAAjC,QAAA,CAGCyB,WAAW,CAAC9D,eAAe,CAACuE,WAAW,CAAC,CAAC,CACtC,CAAC,CAGL,CAAC,cACLvF,KAAA,OAAAqD,QAAA,eAGEvD,IAAA,WAAAuD,QAAA,EAAA0B,qBAAA,CAASD,WAAW,CAAC7D,SAAS,UAAA8D,qBAAA,iBAArBA,qBAAA,CAAuBd,WAAW,CAAS,CAAC,cACrDnE,IAAA,QAAK,CAAC,cAGNA,IAAA,UAAAuD,QAAA,EAAA2B,sBAAA,CAAQF,WAAW,CAAC7D,SAAS,UAAA+D,sBAAA,iBAArBA,sBAAA,CAAuBX,eAAe,CAAQ,CAAC,EACrD,CAAC,cAILvE,IAAA,OAAAuD,QAAA,CAAKyB,WAAW,CAAC5D,mBAAmB,CAAK,CAAC,cAC1ClB,KAAA,OAAAqD,QAAA,EAAI,GAAC,CAACyB,WAAW,CAAC3D,gBAAgB,EAAK,CAAC,cACxCrB,IAAA,OAAAuD,QAAA,cAAIrD,KAAA,WAAAqD,QAAA,EAAQ,GAAC,CAACyB,WAAW,CAACU,WAAW,EAAS,CAAC,CAAI,CAAC,cACpD1F,IAAA,OAAAuD,QAAA,CAGGyB,WAAW,CAAC9D,eAAe,GAAK,MAAM,CACnC8D,WAAW,CAAC1D,YAAY,CACxB,EAAA6D,qBAAA,CAAAH,WAAW,CAACzD,UAAU,UAAA4D,qBAAA,iBAAtBA,qBAAA,CAAwBP,YAAY,GAAI,KAAK,CAE/C,CAAC,cAGL5E,IAAA,OAAAuD,QAAA,cACEvD,IAAA,UAAAuD,QAAA,CAAQyB,WAAW,CAACxD,KAAK,EAAI,KAAK,CAAQ,CAAC,CACzC,CAAC,GA3CEwD,WAAW,CAAC/B,GA4CjB,CAAC,EAGN,CAAC,CACG,CAAC,EACH,CAAC,cAERjD,IAAA,MAAAuD,QAAA,CAAG,uBAAqB,CAAG,CAC5B,EACE,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAApD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}